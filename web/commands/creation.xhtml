<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <link rel="stylesheet" type="text/css" href="#{navigationController.applicationUrl}css/home.css"/>
    <link rel="stylesheet" type="text/css" href="#{navigationController.applicationUrl}css/common.css"/>
</h:head>
<h:body>

    <header>
        <ui:include src="/authenticated-header.xhtml" />
    </header>

    Machine Catalog<br/>
    <h:form id="form">

        <p:dataGrid var="machine" value="#{commandCreation.machineCatalogFiltered}" columns="5" layout="grid"
                    rows="12" paginator="true" id="grid"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="6,12,16">

            <f:facet name="header">
                <p:outputPanel style="horiz-align: right; display: inline-block;">
                    <h:outputText value="Search: " />
                    <p:inputText value="#{commandCreation.filterValue}">
                        <p:ajax event="keyup" update="grid" listener="#{commandCreation.filter()}" />
                    </p:inputText>
                </p:outputPanel>
            </f:facet>

            <p:panel header="#{machine.model}" style="text-align:center">
                <h:panelGrid columns="1" style="width:100%">

                    <h:outputText value="Count: "/>
                    <p:inputNumber id="places" value="#{commandCreation.count}" minValue="1" required="true"/>

                    <h:outputText value="From: "/>
                    <p:calendar id="from" value="#{commandCreation.from}" required="true"/>

                    <h:outputText value="To: "/>
                    <p:calendar id="to" value="#{commandCreation.to}" required="true"/>
                    <p:commandButton type="submit" id="add" action="#{commandCreation.add(machine.model)}" value="Add" ajax="true"/>

                </h:panelGrid>
            </p:panel>
        </p:dataGrid><br/>

        <p:commandButton type="submit" id="execute" action="#{commandCreation.execute()}" value="Confirm"/>

    </h:form>

</h:body>
</html>
