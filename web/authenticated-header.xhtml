<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:p="http://primefaces.org/ui"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<f:event type="preRenderView" listener="#{sessionManagement.isAuthenticated}" />

<h:form>
    <p:growl id="messages"/>

    <p:menubar>
        <p:menuitem value="Home" url = "#{navigationController.applicationUrl}" />

        <p:submenu label="Client" url="#">
            <p:menuitem value="Create" url="/clients/creation.xhtml"/>
            <p:menuitem value="Manage" url="/clients/index.xhtml"/>
        </p:submenu>

        <p:submenu label="Command" url="#">
            <p:menuitem value="Create" url="/commands/creation.xhtml" />
            <p:menuitem value="Manage" url="/commands/index.xhtml" />
        </p:submenu>

        <p:submenu label="Inventory">
            <p:submenu label="Machines">
                <p:menuitem value="Create" url="/inventory/machines/creation.xhtml" />
                <p:menuitem value="Manage" url="/inventory/machines/index.xhtml" />
            </p:submenu>
        </p:submenu>

        <p:submenu label="Admin" icon="pi pi-cog" rendered="#{sessionManagement.admin}">
            <p:menuitem value = "Manage Users Access" url = "#{navigationController.goToCas}"/>
        </p:submenu>

        <f:facet name="options">
            <p:outputLabel style="margin:1px 10px 1px 1px;" value="User : #{sessionManagement.name}"/>
            <p:commandButton type="submit" value="Logout" action="#{sessionManagement.logout}" />
        </f:facet>
    </p:menubar>
</h:form>

</ui:composition>